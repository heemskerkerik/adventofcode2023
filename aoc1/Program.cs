// See https://aka.ms/new-console-template for more information

//string[] input = "1abc2\npqr3stu8vwx\na1b2c3d4e5f\ntreb7uchet".Split('\n');

using System.Text.RegularExpressions;

//string[] input = "two1nine\neightwothree\nabcone2threexyz\nxtwone3four\n4nineeightseven2\nzoneight234\n7pqrstsixteen".Split('\n');
string[] input =
    "two934seven1\n8825eightknfv\nsevenoneqbfzntsix55\nfoursqpqvv192rdrbtcccfourone\n9jpzhpxqthreelmrnlhfqmn4\nonedpsckg3xdhmgtsixthreefivejlncszkxeight\n4twofour\n7eighttwo17fournsmrznntgjrdpkdjvx\n573\nninethree3\n3gngzkpkgrf\nqeightwo2xjvfkfiveone\ntwoonej26\nsgoneightfoureight5sevenjzsqghg\nbnrb36xtjd7four9\nthreepprhsff3prbpfivesevenseven4\n38sevennineninemnfzklttkxnine3\n8mllzkfqklhonefivemv4\nonedcqlqcrzn66three\n1fourjthreefc2gbtbdzsix\neight7two4258\n4hmfzdzf\n26dsmdzznm7\nplckvxznnineh34eight2\ndhrvd4eightgxznhqmh\n5fxhhkghvm3nineshpcxhtwo6fourhrktpbq\nqklhmhmdlgeighttwoonetwo52five\n86threemmpchhzdvsvxfzrj\n9clvchpgrslnkhdmfkjmlrvgnf\n8ncpdtspfivethree\ngtbtkqcgvh8945\nsevencrkbt3btljpdpgstlf\n8nine37bpkmtghhnc2hnreightwohvs\n5qxmsrthreempcmpdcnnv41\n8threezrxhxgx4g\njhsb3onep1\neight71rnz\n7p16lrxktlr6\n8one5fivelvdbjzz\n1nine2twodhnineonesixkqfcbgdlfg\nfour8sixfourfive\npjdmt4one8sdsdhhqxlqgzpk6qrtdvxm\nsixzfourkdpmnn92qbjkjqfqpn\n42threefiveh\n5fhgzt8threemzhblb6\nbbc3kxhvbfrn8four6five\n91fknhthreefour\nsix9fttmqpninethreevhgtrxklbvxbljsp1\nfour5five1471mtfv\n3bjkggcntwo3ptmjhmthree7\nfour2eightone\nthreedrzktlgbz4five\ndmpgttqfivekcdjbf49six\n9bplkkgrxgjqjqb3seven\n4861sx4six\nhjzmxtxvxkkpbvgpvmgb4two8bqxlvponesq\nlkxxtkctlphjfivepjlrg1\nxszdbbvxjrfxs2vrmmbfourpzcfmgppk33eightwors\n966fourflbfsk3\n1bskshtjseven5qlbjhqgzhbzxvlxsvtcmmzseven\n56two28cbhfsdcjsix2four\n6s5qcmvjltqeightslhnzmvbfvcmxj\ntwosevenjxk6lhrkknnkq\nkjkj2lkkldqbgzhglmthree9\nftxhnpms1onetwoxg2\nthree9sixsevenmrgggztckzgzv7\nstvgmjgnine2vvsnjhlzkstwo5szsbvzjdzb\nv6\nthreetwolscvhrlmm3r\ntwo17kblkphfninefour6six1\none6fiveeight9sixjzljjfknrhkzxr\ndgpqm43xthreekxgspjzrzcsix\n2two8fourpppb2\nfiveseven5four\n5rttwofivefnmbkn8nine2eight\n43threeninelgnpzrdtbc1lbkjkvqrdcd\n1seventx\nnctwonefourjzgskmxjmq2\nrpzpht2tdxczzfthreeseven\ntwo1seven\n6bjztkxhsixkgnkroneightht\n9mqzkgmv4vxqrpf4\n49hlj\n46gv\n75sixfddn75\neight87xzjkdpnnjjfqeight\n9pfcdhxbcrnpsnmvkqnsqsninedgtlmmc5\nxmfbn34\n99lvrrndpqcnhznn\nqsmxhxfph24three\nlql25\n8five1dhrkm\ntwoninefourcxksqfmn1\n7eightdclrvn\none2seveneight3ninemcpnmonetwo\n33fivefivenftbczsdstlxzbp\n9r97five\n5fivessskxvnt6qqbkkqrggxg9gsdtbptpn\nthreesjdpjdkczjgthree6\ntwojqm86\nbttrx15qfznmdncnz5\nppckphrtzhstd3xvthzrxxlrrjtk\nqkm6ckeight7gnmqkltz6jsrgjhbck\nzdjjjlpmjtphbjpm9threeskqrphxbfqqeightone\nkonesix1three\nfour24391rzxtffour\nhsevenfive36fqrbjpfj7\ndxdcssixbcnp8two639\nhnvg2\nsixeighthmqkjjsix6tbvdhzone2vsn\ndfzlxq7pjmq5\n5n3\ntwovjcgxdsdngt2smfxfqxeight\nftpjlnvg5qshclfzqtc2eightninefivecsrgk\nzzgsjsjffpvcgfmjtnpkrsqlmpzlt9four\n4btrhpznzr8oneightg\npph2one\n5seveneighteight\n31sfrfrcgmseven\nfour7bdqgrhfive3\nnbrzbggpseven9prthjvknq\n3sixonefourh\nfourgkrpkzdmhtwoseven6txplz\nfour84ldbhnkxjph\n6eightonesrb\ngnmckftk62jgsjxzpk\nbzctx9onetmcnzhxkrtchjgqxv66\n1three5\n27two\n34eightwox\n6ndgrbmfkfive2ksxfbnjbl7fkrm\nkxpz4gjmgcgzzq63five\nnfvmfrbc151one8nggsdqvm\n4clnctseven5nsn5\nhcrpbvqmmdbstlxccthkththreebm6\ngdnmh6cslzhjhdl8nine\nsevenninethreefive4bgknpbnine\n2sevent6three1\n2jbrmdxgpnine7\nnshlgtbkmcmgkmqone3\ndklhc9sevenrxxzzxltsnlltqcjrbgprnx\ngmrjhlvzppmklnl39\nkv86eight3dcdpp6pmdzcvsix\nfiveseven2sevensix6952\n3xrtthnsevenjxsxpzvc\n256nmzrlzbczv\n4dp7onesixvpcf\n25onesevenonexvnst4smvlfszcrv\nlcxncproneseven37five\nninezjsrptfivenhsqxrdz7one\ncscdmnfrcxfqdtkmhkldgjlxdjqsxslhdzvvt4\nsixfnjnfkqm67blkmnqtwo\nfivethree7\n2five5ninegcmqbkpp61npkpml9\n3qktrxninefour\nqdhmxstwo44two\n21nine\nrbnineone3xppvtbmv3sevenvxkkgmgklg\nmcvzplmpvptwo38\nsv176threeone\n5vksixqsccgdkrrfourcgnpsfxbvj\nxxtwone6eight\nthreeonespkbnsj9onesevenpz5\nfivenncrfvhfdsevengxzkxbkrklgsfvllrkbx4\n69kp1seven8dqkrx\ndmb9ccghdjjpjxfivehtwo4\n6nhgdkpdone\ntfvqdqdqcszxbrdmmrninesct2\n8sevenfour2eight8rskc\ncpmgffcvln9sjdsgfivesix5rppfsfmmqtffive\n5two7\n7threecrkljthreetwo\n6qgqzsdhprd\n959zgjscgtm\nfourtwoppfrdqgtseven9\n8bbchvoneeightr\ngtddrb1rznsdjtonethree5four\n8rrskfzlmlbrsninezdzpt3\n6njhmkpp4onefive8two\n4cqpnkcxjtwoqzqmjnqccfs256hcnqpfm\nnineeightseven62sixhlxlps\ndtqplzzf87threecthree\nmqptgzjxddxgxpjr5\n9194jbjjktwofive\nfive514foursevendzxlh2\n6nineeight85zvx\nfour8gsgrstfmdv99hpkfgptzqkhsmgsnlggrseven\n9three298\n3fpttzk35\nrbtckzonexkqmfxrnsbsrkqbq66sixkcqfzjfour\nsixkdcrrrppcsix399fccnsbhfxvfiveft\nxfjxbfvmbxbf3twokkcfrbcfbmkmhghsbzf\n9sixonesix3lqqf9\neight3fourgcmp\nxjccxkhkvgltzqslmseven5twoqhcmpsixeightnine\n62eight8\nhzhccdkxb336\ngcsbmkdfmqvxtfj81\ntwo445nine\nxhrkgql8six41nine1\n5dnlcsjb\njdqdg8gtgrctwo4fourthree\nfive4five\n3threecggvthjv6\nsevenzrjzqhgtvtqvkp3three5sixhxdmfour\n2249eight6\ndrt5trhdjqf3fourfourkfour4\n5oneone1\nthreeseven5six\n45bclsgsqx\n6ggfjqls\nrhpmhfournrzg418onevlkcxxdrd\nfcvgszpsixthreegqqctvdqnfrbnlbmknlvgfour1\ntwoxvrhmxjbbn2eight\n27eighteightsevensix6six\nveightwosix54bcvvtcgbqfzprp7four2\n9kthreeqntgvbb34693\nzxcdmfg48ftlhk\n1mhcctbmbzmfivefourtwo3\ntwo6vxsdfhgstslsix\nthreesixmzhvfqsix5xhrhrvsfh7kpcrsp\noneggkztrmsgrthree536three\n7seveneight81ronesix\nsixllrjlqtffqvtdjqhctt66four3twoone\n2zxqpgmgz\n7rfngpqkqgfivetwojf\nvvbfnnine3ngv\n59sixninelmhmqchlthkbpthree33\n1three6seven1seven5qntpbnsfour\n7nfzfsdxzfive8fjvllc4\n56seven5seven\n1fivegqbrdgths\nfour32vmhvnk\nhvdjnmpqvqbnrcrclkgkrfseven6lgrvthv\n28xngctrvmnc4ntvxhmxfsj13\nonep1onecjjmxxtd\n9eightwof\nhzgmtfdj8nine7seven\neightseven3\nfivepnhlninefive1lcftks\n122ninelrgmdgmqzd\nzjsix3\n7rffvg9hbjpx\n3h76\nfouronessbhxlcclkzmnnbksixlcdqtf3\n4fivesix228five\nsixrlthree1bzhddfbkrgxpgxfivef\ndxgqnkqfgq8\nonemcfourbmkhh5px\nfmtqjcbxznine3three\nqzkcxvnffg1gmhplhlffgtwo3onevg7five\ntwokj7xv63six\nfour58\nfvjeightwosixrbrgnmrrmdtwomseven69seven\n5fivefour\n6pg8twomrqfzkxrthree9\n7xqtqfrpprlvhnthree\nl35sevencreight4\nthreechpctdgtq8fxspqtnvggkxtmeighteighthdgngnmc\none16twosix\nthreetwofour3eight1pvgcthree\n229\nngcnthreeone7hqbbntqxeightkgtc\nqtgkz1ntone68\nnine2seven\ntwo1jjccnlrqlsdfvtgjmmhh5prfpcc\nonesixvtbjgdqmtg1eight\n77qkvdszsp9ctqndxzrjc\nrnldvcmks74355\nfourkljgznpqntwofoureightlc3zmljfnqnr\n8threetbv6cdjjbtmmxcfour4qlqjql\njfkvbvjxjzk7\n7eight8vhsdrd\nonezdgffrmz2\neightseven8\n7gjdsevenjsdkljn2fv\nkmst4\n3five8smctrhdhfninelzbrszmbdm\nfiveseven4ninevdfive3\n8jg6nine4jmmsbpbnskoneqxgjrphhf\nmgfourfour3hgmrzkntjm2hxrrfsghnone\nninecqmg72\nldthtljblpl3fiveonervtxnxczfx2\n9sevencsevennscmbjgthree\n7lnj9four\nfgtwonexmkvkcgpq36sixsmfnxjs\nqgmfmnh6twoeight\n56sqrseven\n183877\nntt1seveneight513\n7three6dzdrs\n8sixsevenfour\nmzfhdnhseven4eightvjsdnxlonenfzlcxr\nsixzdczsbtq29one4eight6\njmxcbmktjzeight5fivenhtzfsdqbx\nfour2rvlppone258\nfivezvlqr236nine\n262\n58six2nineone5\ntwoeighttwo3ktzhmdvlx\n64nsjgqsqkhfqmfk\nfoursx18\ngklzjvvv93zzmzgpn\nonenmcvr6\nqsnmlbmlr6\nsbtwonesevenfourhgltwofzhzmbsrfm6two\n8fdhxeighttpcjkkmgsgnpnvsix2eighttwo\n5pvxnxxdfourfour75\n85vtsgkn1kfzkszmbld4cpgrqsfive\nsdbzkzp1dq5lk\n28161twodfznxckr\nxfpgnrlfour61\nkzkkp65qtqfppc7f9\ntwospplzdrdfvsixsnldtwotwo29six\n9fpbm\n3one83dlvdr\n9rvbtwo25sixkzlxfkg9\n8jbmfbfsxrnxk7oneninesix\n3798\njhcqmfive9\nnine35\n596\nnvzztnine2vhhchqkzfjzmkgjbzlxhvtdhddnr\n5bltnjlmt12threenh2\neight5sevenninepgxvhflb4eightmxv\nxtrct7fournfivefourfive\ndhbpsnpxsglnt5vsnclxhnntt61two\ntwoonekntsmsd81fourfourfive\ngpnceightdx5pklsp79x\nfour5fszlnphhxvhgbmfcdkdbgbc7\nxbxtjllpr9threeninesixbbtkn6\np7\nnine644two5\n5zzzlmspbcx9vfdllvqtl8five\nfour2bxmrthree\n7rhgfnzqbpgmpnfz\nthreejhfmbmxzp469\n74ninebmtpfkzbcg5nine\nfflpg34two25lvnmxvqlv\njtqtnthxqflp2onesix39\n9sevenninefd8qpfiveseven\n28mb5\nlflcphkxqqnzhd2five\n3seven4fftnss\nninezxhxqxxpblm9\n4ninevgpmxxmqlf8\nsevenfiveonesevenfjccpmnnninesix3nine\nqmkvt6pxbdcbrcsrgppzptzchkmone\n2sixone\n6dzskdbknpsix\ntwonpqfsvbmqgeight23ct\n4sevensxdzsfbmmmdrdjtpbh\nsxkpmmhsix9five7\nfnxtgfrltwo67threepvbsixzvj\n54jmvmdbkltqsixtmccscsixeight\n6fivefourrbshbc82jrfm2\ndhlpvhzhms6\n419bhbcdsvftxfvvkxcxprksjs4\nsqrq17nine\n84rjcbktz8hrplcqsvhqqnnqnsevencjhone\ngkmljdk2dgrlptkxdsix3four599\ncnjpf818sevennine\n8cvg\n3jqbbpfpxmpkrhfoursix\n9zkrhbmzkbzlcnxlgdsixthree8\nnine9kvxeight2zqvzhgjzjz\nfourbglmlqzgvzhjrmz2nzqxlqseven\nseven4five8nine44eight\nonegnine6\nqeightwosixfivesevenzmjfrqvnsbnqlt7four\neightvrshp9xnxlgqcnninegvbj\nninelpbvs9three8ltzvxnd4\nnmnlzone3grqbzcdnpxsbcbzxn4fjptnsrqsqgsdcv\n18fourcqfive1gccxg\ngfglone6bqsqjmlftcqpqmmqmglskzfourvkhd9\n5cxgkn1g\n29seven9ppr\nfiverkmhxvnbp3lvpeight1one\n77four5dsdqzvt\ngvvpbone23\ntwolrjs56one\nsix2745six\nkbxplzpsixsevenseven5one3\nthreexzrcfgffkjsix9zgdseven56\nonetrqcfl6\nthree23nine\nfour2mv\nxzfnzkmeightthn6twotwoeightqmf\nhxxxldcvj99three5qgmllbtrsq\n6zcszjbrzjpgrvfivemnzkpbq2six\n6zvtsixone73three\nthreeflxtwo5fivefhbjptgfjmgbhpmbjmsv\n5nineeightfourd\nfive26five7sixthree1three\nfzvsixsix3mxxhseven\ntwoccxdqqkdvc2two9ps6threefour\n447lkkoneonefour6rx\n8seveneightwox\nsgjv21\nsoneightkmtps8onesixvpsdcfbbz\n8pzrtoneffhg\nmmzeight631\n5fonefive\nfoursgx8fiveltczmccpzx\nsevensdbhnpmjninetwovlv1three\n64qrjdtpxbxdbcqmmlqtnine6sevenfxhcrjnine\n1seventhree\nktmfour3\nfournine8skzxtftwo9h9\nbjq8\nmrshhhzsixcxsxxmbh1bone9fivelsplqv\n7threezvgxdvrthree7227\nznnvfive5mctxdfive3j4\nfive2three8\ngdtdqc9nine1\nthree3eightgnsxrmbmxld9six\nzsgmcpxxvseven7onetwoseven6\n8n3919hfiveoneightf\n3rfrzmlfsjxthreefour\ndnnshdvxdl6onendg27\n66lpbz\nsevenlkjpxthree5\n8clqlplvljone5hfh81\nfourldvjsixfourfour5xrmcnf\n9nine2\n4one1\n4vzjgncrztvstcf9one4\nfour37\n4sixlqpnqxqtrhpc3\n8threejzg\nznxccm8\none8eighteightkcvnqjpsp6nine\nfivesixgc74oneseventhreesix\n5twohshtsdtqk2\nhzmchfourvzjgnt2threetwo5cgfld\none9three836one8nk\nssslsdftjfgkpzkln5\nxhsxxkzk1x2tzbjthsnsix\n8nineeight3njq\nninethree5eightbfour2\nfive56sixclxjqsjseven8eight\nthree3cninenz\nlt3onevpkgsixsix\n4pkbmgtwo6zmvn71eight7\n2eight6cdd83\n5kvp3zhzq\nvtcmdkkcmnmf1two\nnine2nponeoneseven\nxm1twofoursevenfoureight\nggkvsljtddcmznlxlqb4one32oneightppn\nonehdq785\nvzthreezjbdrlvhglbbcvlfk5\neight9smt1sixsevenckqxlbvdzone\none7fdcbzjtfhbps9oneonetfftbneight\n3sixfgqbsngnd1zmqbxfllbp\nroneight28one8fpzmkhvdhbqlrfive\n4five2four453ttlvfqxb\nfive2four413hhnts8six\nxlfpxbzrbphb3one\neightone8nineeight\n1zprfttxqmtbhzckcfoursix2threenine\n7sixzqrjxn92pnbfxzbrnmvrnpjpdone\npvlfeight1xkgrvczlcfvvl8kzcktkjbj\nfour7phjzlzn3two3two9seven\n1tkcdvdtj7nqfsrnmfzghmkrqeight\n36fourxfdgrprrdgmjczxb\nfive5fivefdkgnkfgd5\n5seven5sxlkbldznz53three8tmkzlrt\n8dkxkfvjkprxtjlh5tjvjm2glkpbmhjd\nseventwo3\nbgssljzld2one5seventhree4\nsixfourrqzdbdhhhc7lkxqbtsseven55\n6threegtwo7fivesrbvfk\n2mpxkrtjphdseven\n14seven9dkk\n85dmtjqkchp7two4\nhvqfbchqhpbggrqhf4ps\ndzdknbdceight72fourcmfvsrzt\nxmvgjjfourfourmjmkh5onefive8\nqdfreighteightninecdxrtdbd7\nmxlhxlbvbndqfzmseven34four\n432three5vqhmjzgvghnhhg\nghczftpkttwo4sixoneone4brf\nkbbzcpsqsl7qdlgff5fourfive6jk\nv8nxzpjxntcbtwonrcgztsthree1eightpfdsp\n7zjdzbnrpltfivemgcsjzrdjskhfmbgvlr5dl\n9kpbzzr\n8386six3mzh3\n41nineeightfive\ntwotwo5threebvgmmhqrlqltqmndhveightsix2\n58drxrgkklm\n8two48six3sixthtwo\neight88msfnone87nine\nfour5lvxfhktrconexqzqvl\nsix8mrlccbeightonejnzbdkm4one\noneseveneight366xzqmnmfvvrph\njoneight7nine7five\n5fourtwo26onefivegsnbcjj\ncpjnvhnzxsevendbnblfkpx44lzn88\nzfmdcsfkktwogxmrsbtwo2six78\nninetwo59foursevenoneightsx\nvjbbphb5dddvksevenpmnmtjvzdvxkkbcqxbb\n9ccgtrznm4\nzplpfivesixkjfdvrv6rfmqk\nhfxhpsxgxjfdbfmjb6one\nthreethree9\nsix3seven\nseven286\nbnkrghgbkzdz29two31\ngvlzrhntvseven3\ntwosevengdkzgv6\nrddtz12five9znvtsljztbztprthreeszkfhh\nnfivesevenhfpklnxqb4nineonermtfsk\nzzz2onegpthree4fdnqxrtcnh8\n4xchnsevenxnkbrdpzsnine6\nhveightwofourfive8\n8one3\n7chfpsbh1two\ntwo2eight5gchbxqvrmdfqvghtnjssix1\nzfbeightwo3\nqhjnfxpfoursix9five\n8fourrbrrjqqph\nfive5threethreezfvskmsv76\nsixvtjnktt4\n5cndcht2fivebdnxcnzzmfninenineqzktj\nqfzclldsvzvcdqfxhtqqtknine527\nonefjrmmfqvgnxnjdtkdmk25zghnp\nhvddcjnoneeightnine9eight\n9lxpszk\n17fourfiverfnbmkrxlvone\nqxvdlrxq89vf\nqeightwotwo2\nrzmxzgnzljzssnxscvv9seven2kbnineseven\nsevenseven8\nrkhkone8four\nzn68\n5pvfjmjxthreeninevtj88\n51dtwo5ngvxnmjeightgbhzxbd\ntwo6kxkvscbxcg34six3\nqbn1\nhgxgtwoqtmsqbv3\nthreethreejmtjk18two\nsixone4fourseven6zcgpdqps\nfiveqptd8gtjfour1twothree\n89fivefive4\nsixvnvmdmfeightcbbvbrkffqstwo7\nthree4fivefive5klxvsbhslzsix29\ntwo9sixhncrcvxmf\nrsp146\neight2jtvps\n7four6\n77p1znpskm\nbbdvfhqmxddlsvdpmtvctnine135\ndlclxtkxk85bn\nbxbjslnrfk6\n51zfrtvmcbkkrnd7\n27fivetwobbssnklg\ntwojxdksqkm9ninejninekcbdgnsq3\nnineninebsbd8\nsevensevenggddbfxqrmonethree744\nsrtbzcbsmfivetwothreejvzjzxqm1tjnjldcxnine\nnbsix32\n25144spnmfvvj1dxpqmhsldk\n5two4mrqnpxzs7foursevensevenr\nfourk9zszmnbvmkdrz\nlpqseven2seven\nhcjgtjcxh1dskx\nssrnf2ninenine6ngbhfhdqsnine\ncz82jhmgn14cktblcl\nkxjzflkkbx53nine62one\nhbcnpbmfour1two\nckjksxthree346pjtr\nccslpmqnine27twodr\ncptwo5twoggmrjvl15eight\n4vlktln5kqfsnvrbjbszqzclmnkxseventhreefive\none2eightwopp\n2sixsixone5\nklvsngvv38tcxvhpdhh5\nfivefllgljkdg9ndlkpbmgbrndqbpxqdk\n7ppkvstbtnvseventhreessd1three9\nthreepnrcmb3\nthrqrcmzpzt7nine1three\njvgrqgbcshhlnqrl2vrlppxbnjfrdtwofbsdvt\nrnhninezxbrlmnlczqnneightsix9one\nghvqdxkqqfthree17\ndthreeseven2\nrkxfthree7nmfive6\n6vhnh\n13brdgbrdsvthreethreerttfkr\nninelgfdc7\n88z9vzscqthkgnhmztjnhthreeseven\n1nine3mtgrfive8nine1\nthh5fivezfmtlsnvtdkfour34\n26six6cbjdssevenq2tl\ngxxnhsxqvjcvssrbrhbst6sixvcchxstbpb1ppqdbx\nvninexhkjkmzvhfpvcd7ninezzldthree\n2twozknrxvcsj\n3193spfourxcbdnf\n84six4vc1eightsix\nzljb46four6six\nsixfive2seven1\n1fbmq9fourmhbzzkhctp6ninenine\nonefourtworckjqzhqseven5seven\nfive973knlxmtmdone8prtqlsltwo\n2ncgbgpq\n3eightthreepknbcs58three6\n6fivesrgqxhnzfouroneqpmgpmzgfoureight\nmphrj33five\n8sixfives26sdscdjtpchmh\nfour64mtlxmnsjbtdkpmf4\nonefivenine9nine81two\nvfc9nqttbmbdkonegclxcgbxkx87t\nsqnzdrcs8sevensix6sixdjcmk6\n7npppqmrmblzjqckk8fourbpxlbtwonine\nnbkklkvpl2smlqbh\n37eighttwo17fh77\neight7ninekkbvtwo\neight18cmzzdpgl5\nsixdc17nine9ghzpdpnxcbxvztcrd\nfourfivelrmch54\njbqbpzxbbdfiveeight9jnzfdh5xfmhhrkrkds\n146two6fourclmcllhl\n222dqgtptqqn\ngvhninesevenfiveonefcvnlmfcvjvf5\n9xgljlphcxeightfivehpdlfrmd1fmqhrnvbzboneightjd\n8sf3five6eight\nzrprbc8\ngqb6sixninerpsrpnlldteightgn\n2jdlxzk\nhfrbqn4zbpxqb81tlfxgxdvzz91\nqtdnxgmjjstlc1nndsnbbcdm6nine\nz7twonezp\ntwo17sevenljskthntjzxpkjrkc\nfivelvfive948\nsninehxqlkmv7oneonedbdvztzgh8\n2fourxcrkrcvn\nclh4four5htj\nhdkx4eighteightsix1kgtbb\nnlbsqhkltvmzs2njschfbmsl3fivensztjtwobxkfn\nfnrg3837five\nvxcldjmjxxcqntqcqnninefivestbbjvptfvkbr9onetwo\n4six7two\n8five5sevenslfqtblfiveone\n26ninemhvqkjgcvflplncfsixtwo\n7eight523\n9fiveplfdp1qhqhj15t\nthree3eightrzvccr4h\n9vhmkkjfhtfjtwotwotkfvlhvs\nvxoneightczdfl4\n3one2\nthreeeightfive2four\ngksfxtb4\n1jjgdldklznbktwo59\n761sxvprrzj2kxsmlmtpbqseven\n681q\n84ctsbf1six\nfivetwomfgplcfgfive7one1vgbz\nrfnqnnmsdcj6foureightfjfkphqpktwo\n9vntpmfsevensevenfour\n7zvchbn6two9five\nfourseven7\n2lvtkkbhtjeightfour89\n5nine5threemgsd\n933nxone5threeone\n2dtbbmghgxvkmtvnlgsxjlgbc\n1mcrlzhvzrc2\nftwonegsndgxmbzn6one\n916vfvzvh8twolvhvlc34\ndtk7eight6c6\nkbhjg6qkdgh8rqlmstq4\neightseven8\nbhlhcphznb92two\nq8d\n375sevenvhrhkbtbvncmqqmpxdhqzzggvr\n9onefour1nhmjb\nhqckpzrvgmgqjmvsrjhqx8twodgxkbh\n5grdsbtp6onezrkdvpdqt2\ntdgkr4\nfoureight24\nktds45zvjd\neighttwo58lldklbmxn91fvlqllnxl\nthreefive3bdmfbrhfklhxjvdgjxbp1\nhqpfgvk56oneone8\ntwo32fivetwo1nklfhjfffthree\n77jggmjkbqone\n6fckfqeight\nfivetwo8\n7five7threethreeb\ntwosvbzfmv1fourtwoeightsixfive\nninehninebgjnknth5bhzqlvthree6\nonefrdv3one1\nfive35\nfour3three3six9four55\nxbssqpvjnine9six9threefivetwomjdvmpxrh\nctroneighttwofive3npxgbhfsix1rjnl\n8ckbzlmsbfxdn\n51gckxqqbnkntmvx1ltfmdvnlcjnine\neight7gkql5\nsixjghxscppnfive23284\neight7pgqxvsix\n46eightrjhgdmvf5\nfour4bmjzzjqp1rv523twonevm\n3sixseven81oneeightwocr\nsixmmnqkrfplg7ztrpsixone4six\n1sixfive5nhrq9\nsix8threeoneckbvqc9mzhb6nine\n33sixdfzmds12jcvfour6\n1cdlflvqhrkqpktdnnsx7six8eight7\n8four18\ntpfourvblonez8six\nfourone2smjpvclnine\n99zdtdpbbvhnninefourvzfmzbscdldhxtcjfh\nfzjeightwoeightnineseven6\ntwonine2\nfourseven1eight\n2x3one\nqbjc1jtnbpdbr2six3\nsglmt84five5nine\nsixnljjqh4foursix\n4nxjgs79six\nlhkpzgzjr3z7\nonefourflllxbtkpvgfive2\nsixrdr1twoeight165\n1dxvjdhzb76915\n44pxzzttvdc185txvrpxq\n4fourfgllhzfz\nnxssptkdldkpchnseven9522nine\nnine7fivefivefffvqpvsqzsvnvlzfvfs2seven\nbzphzhgf2xrlqjgonefour3bclmhtlzbmddrq\nvsxf7eightzzndgfourfour\nrqbhb14eightthreethreevkjzhjlkcmfive\nsbkrlm3nine\nzkzlqfbzscndtlmn14four9bsscd\nsix33\n1gbcgnpfnseven7plppdqone3smljtjlkhj\n9jsmdjshtzm92stx9onesd\n51four4two3one1\nbxkpcpcntkflxccsixseven1threengtrrp\n4dsdllkqnpxglbseight\n7threetd3onefour\n3vcnzndxfhfzvncfivefllrqvndtx964x\nnineeight1eightgqnzfhqkzgvfvctwo1\n6fourthreeseveneight\neighteighttrhtplssvjnnkkreight4sixoneseven\n43hqrtctwotwo\nkcxfvhjksix3six2jbkrlmtwoseven\n43sevenpvqh9eight7xcbvnckrkshdx\nsixfive3745three\nhmxfmzqdpfzjjzdxsix8472qcpbrsgx3\nthreelnzgs96five1\n1dftdbtgjrpfive3cztvmxkcxh\npmrfive4jxfxq1\neightclrzz981492\nmscl2eight3\ntwovb8four7sevenfourkmzpdmpgxj\n59onefourxnmptgtcone\n6gsvxlbqspvzpsq\neightthreesixtworcmpjkfvnsevenseven1six\nghmflkhprkthsix9\n441fourfcvxonefourhg5\nfour795seven\ntone11\n22seven9two\n5seventwo2\nfiveone6h\n936sevensixnine1lkp\n62kvhcg\nsix19\ntd25\n9two2four4fourmeight\none6twosevencrthreeseven97\n1kttqbqkzvvr7265six\n65rzmfpfqjtzb11m1eight\nseven1rrhpxjqtp\nplktlvxkpkndhx66fivefivexkh\ntttwonefournine9oneonesplmp5d\ngkbl1fbn3two97onetwo\n1seventqngll\ndqfiverscjjrk7\n4sixfour4onethreecvbj\n24x6qhgtsxtrfh\nh6\nfourfour3three\n8hrdbnvxgndthhpmrgm\nggzjfour8pxdlpx\nrnsixnine9fivensxfzzgzlseven\nsqzseven7\nrcpkzht5\njxhtrkzl7eight3eightn68eight\neightfive24\nkgxv7kclnsscsmqtnmv\nfoursix2chgckldprp3zqntzscxfc\nsixsixfourone3tnbpxbmgqccncgxxnine\noneeightkgsbdthreefivepvrsktvhrnine5s\n4vtpzghfsj\n7four1lttzxpzcbtqqdthreek\nfive76\nvlqvvdhhnfzfssvthree3ccsdjhgc3seven\n2nine8six\nlddxjsczqkd26g5jpvdlfour\n1twotwofcl\nsltfz55knrfvhhbbeightsevenninesevenfour\n27155bvv\ndxjzmftwo2vnljlsthree3three\ntwoqdpzhjhbzksix49dhdfq\nthree2fivenineqbxkgfivefour\nqnpsfq8twoonevsjffive9\ngqvvmhxgx6gdsqmgccrmzrzltwo81szbnbkxt\n2one1czgjvtcgxfivenqsfourthreethree\nppcspzrnnssvnht9hdfoursix\nmmqrzdkmt7sjqgsrq9rhxpgpsixgkjflnht\n57foursixfive4fourfive\ntjrfj3qldspjklvdtcb6ninefivejmbntcthree\ncgjnhsixsixsixfive7\neightqdqgjppcfive7fivexznfsmtk\nfivefive864scrf\nsix95five17threeslktfgd\n77mrrjzc1cbnkxfkxcdmxsmtwonet\nsxmsjccjrseven45\nkjpsn1eightccctxthreevvffseveneighttwo\n5twoneqr\n3threemvlqpvhdqgtqseight\njqrxrqlz93ninesmppvdhtxk5five8\nthreesixsntqreight593nine9\nfouroneznpfive6qmn8\neightfive3sixxrrjgzlb\ngds345twotwotnjrnhjxdz\n27nprk7\neight1three2onefourcfctvmhnqlfour\n1fourvjgkpdrsj4kd2ncd\nnine85ncsqbrmdtxbtrjxgztq\ntwonineeightonerdnkjkrbpsbzcpone5\nnine8lkkvxfvlsixseven\n49three9\njqmzthzjjseven5\nseventwo9z7four5twohstlzjx\nbzvbvsix7\n2five4\nfourthreesevenfour2nine1fivezspphbmjv\n7skjhonejhklktvzjflnineonemmgvnnine\npmgxshqpjhn9qptllp\n2nine5\nfourqpzjrtttssthsxsq1jkrlnkk\neight53njhcfhbjfthree3ksgrrj\ncgmvkqlcgzgfqxmgkfdzxxnxjgsd6eighttvggmfbdvztwo\nonefour8txkkpvfourzbhpsnrzleightseveng\n49z2six591one\n768five\nxgkfonethreexnlcptbgxhnine4fivetwosix\n6ghccxxjponelmxeight4\n3ninedlkvcbfmd2ktmjxsgdgr\n3threefourxcgnxhkqkjbdzb\n49eight44rlhg83gktmtm\nfnbnnpvcthrsjxnqdn9\nldrfhknine3394lgvseightwoj\nzmpsc3lzlkmqjc5eightthree\nllpmmfsmt8llknhrn\nonedvc3sixxx9four\n148eightq6\n95one9sevenfourfour79\none9eight78gnrthxbn\n95xzzlpjzqdtonezfntwo6sixf\neight1sevenn8bgnmnxbmdk\n1sixseventhree2\ntwogjprzznd9sixsevencpfbh1\ngnbtwomtltppkxxtwonlfxsbzjtt4bjlfxlqhlx\nthree5oneoneqd3bcjgl\npzngtc2four4811\nnnlqscgg8nine7vst4three\nfourcdqc7vvqhpgqlkjsevenfivefiveseven\n5sixtwo9sixqmxxgjvjqjtworlzpv\n6dkknsmfmnq\n2two74five7\nfour3vvfskp\nqqvpdttrfiveseven6\ntbgeight8eightsix976\nsevenninetwo3jdone\nthree6seven7nine82\nfxffmkjn2sevensix\n5xzbf4bjqfrfourpjhscxz\n5eighttwoeight7fivex1bnfpr\n1j3262\ntwo1fvxchkcdtqctph\nvgnrqn4three\nplzrk3tmqpxnhpkq6four\nfour5eightone6threedbnjkvjvzxl\nbxcqcdnjjsz66gnxbhcct2nfhqlbs\ntwovvqb9pxrxkmflzqeight\n86\neight9eightsevenone2\ndclk16seven\nlzs15four\n265ninetzpnbxzllkq\nttldqsnineffpplcxmbvknkmtdbzlsix7sbkvqhn77\neightgxzcjvgmtgzc9gndqxbxnsktvp\nmpqxldjnfive1pzvxbqqtwonine\ngzbczdrqkmtm3lzrhnf\nmlbsfqvrrtcrvhjjbs5\nfiveljrcn27\nbvnxlsfmv6eightnine3rhsb\nfive5five\neight31zztkhrznmkbx2kvzl4eight\nfvccqgfzsqfour453125frz\nxxf5threefourtq58\nstvfjpj1ggnzgcfzldd2hbxmbgtftpskbtqmgv\n11cbcps6\ndltxch6onenzsmqbfn4onezkdntjzpc4\n4eightthreej7lpqbvzz\nsevenlgonexmrmtfhqpfourp7\nhjjdgtldrfivednsfdnmn24vtqgxk\n41tnjbxk2gghb\n2eightwotg\neightkvhkzfivesixtcnpsxssvveight2\n59dnmmpone6mzqlnf8dvnone\nkfvqrgv87trlninedf\n85bnxlhdrmjt\nzvzxt4pzlnbb\njfour6lpvvvbdn76tbblfqtwo\nlnqpscgkone1\nmcnfzmvzkxp1\nthreeseven9onepvqhgdxcxmhtkxxvlhqrnine\nsixrzrjcmbpppcvf1bvbhblrmz\n6tzthree7sevenlm9\nfour3gkqrmpgnjltwo\nthreetctttrh3\nctcfljkgm7bcphzxzjj7sb43zdkvkddktwo\nsixzjkxlfourhqtwonbslgpt9vljz1\nsgz5\nvrrfjbjpsevenzbqcnthreelhxjqmdd2\nsfmjnbnnpvthreedbsh7six5\ntwovdjqdtrxg5\nnineeight7five\n4xlpdvlvonekqmqvcqjsevennsd\nfiveblbxxjcbhxvnkfd9one7twoninebj\nxdxp54sixseventwo\nonefive7\nppgsqgjfourfourfivegtbrlkdvs1jl\ntwotwoeight6sqlmffdm2three\ncvszcvq8eight\n79three\n44fivembtdfivetwones\nzqkthreefoureightthreethree2five\n74twotwo\nsix6fnjz1plxb19\nmkfj72nine\nseven1nine5fourqsgrj\n5fntdgbzkjfhxlqrzcq7\nsix9lgddrhjc9\n1zfzp7\n2lmncxvxbbsix7jbjrjsnvx1nine\n6eightseven3\n5vsqhnone\nxoneight3j\n1gxvbbhfdmsthxgrvnm\nsixthreeone13\n2three8bzbbd\n3dsix1\n24kmxnlpqxgpsevenfoursixfour\nfqpzqphmczcvlf2mxqvxnfqxthreeone\neight789eightnhsh67\nzznxlmhgr3eight\nbeightwolgnb4997fgx35dt\nfour1dsgpfzltwo57threefivetwo\nxnjjvmlkkgsht99\n1sixhhqkx9\neightdhmgqjflthone44eight\n9ftzbdsdkd9plrrtwo\nvhbvd8h\ntxxonemsfshdrpc15onefive1four\nqgbd4eightrqxlznbjqxmxgmbrnvh7jkd\neighteighttwofive5jsqkgm\n89hn\n3lzfjpcthreeonenine\nhkpc2sixdfldx1\n3two72jbxttzfcv\nmmkjmmlvcxxvtwo25nine2\n8751gphkmsvsjhvkzfc\none8kmcktvzgdninegkl\ntwokpxphkbjctqdcvf63one3prfive\ntwotsxhbppfjcpkdfourfiveseven8sixn\n3fouronebnclssixfour6eight\ncmdgcsix1\n2eighttdqsjdrtwolmvpxqgxhd5five\none7ninefivesevenqvpf5xmccsseven\n2n7xbptnkxzcninedhhpdcsqkc\n5n\n1kfv4821\npslpmthreethreeone29tlmgj\nsixsevenlhn1\nnine9twoqrdgdxxfsevenmjseven\nrkrdlnjknine62\nf3\n6zzrfxdxseventhree\n265one\nseven3lbcvjxqhhdpzkttqsixjzzjjbclfq1fiveeightwojx\nseightwoone8qxcfgszninesvfcnxc68\nstrqnb5eightbpnkcjdz6\nfiveninebtpbpjqbgx2bmjrgmprnd\nsixgtxr2fourrdkjg\nfivebxsevensixone872dlx"
       .Split('\n');

int part1 = input.Select(l => l.Where(char.IsDigit).Select(c => c - '0').ToArray()).Select(l => (l[0] * 10) + l[^1]).Sum();
Console.WriteLine(part1);

Regex numberRegex = NumberRegex();
var numbersToDigits = new Dictionary<string, int>
                      {
                          { "one", 1 },
                          { "two", 2 },
                          { "three", 3 },
                          { "four", 4 },
                          { "five", 5 },
                          { "six", 6 },
                          { "seven", 7 },
                          { "eight", 8 },
                          { "nine", 9 },
                      };

int part2 = input.Select(l => numberRegex.Matches(l))
                 .Select(l => l.Select(m => m.Groups[1].Value)
                               .Select(m => char.IsDigit(m[0]) ? m[0] - '0' : numbersToDigits[m])
                               .ToArray())
                 .Select(l => l[0] * 10 + l[^1])
                 .Sum();

Console.WriteLine(part2);

partial class Program
{
    [GeneratedRegex(@"(?=(\d|one|two|three|four|five|six|seven|eight|nine))", RegexOptions.Singleline)]
    private static partial Regex NumberRegex();
}